var mongoose = require('mongoose');
var url = 'mongodb://localhost:27017/taxi';
//var dbURI = 'mongodb://uur8c9ua1qzn3il:IXPgIlLwd1dea48juI7q@buy3i4hp4znn7sw-mongodb.services.clever-cloud.com:27017/buy3i4hp4znn7sw';
mongoose.connect(url);

var countrySchema = new mongoose.Schema({
	name:String,
	city:{
		name:String
	}
});

var clientSchema = new mongoose.Schema({
	fname:String,
	lname:String,
	gender:String,
	dateN:String,
  country:String,
  city:String,
	email:String,
	password:String,
	phone:String,
	picture:String,
	salt:String,
	connected:Boolean
});

var driverSchema = new mongoose.Schema({
	fname:String,
	lname:String,
	gender:String,
	dateN:String,
  country:String,
  city:String,
	email:String,
	password:String,
	phone:String,
	picture:String,
	salt:String,
	connected:Boolean,
	taxis:[{
		working:Boolean,
		model:String,
		serial:String,
		places:String,
		luggages:String,
		color:String,
		date:String
	}]
});

var reclamationSchema = new mongoose.Schema({
	token:String,
	username:String,
	subject:String,
	date:String,
	status:Boolean,
	messages:[{
		sender:Boolean,
		message:String,
		date:String
	}]
});

var bookSchema = new mongoose.Schema({
	token:String,
	username:String,
	latitude:String,
	longitude:String,
	dateBook:String,
	description:String,
	status:Boolean,
	repeat:Boolean,
	date:String,
	days:{
		mon:Boolean,
		tue:Boolean,
		wed:Boolean,
		thu:Boolean,
		fri:Boolean,
		sat:Boolean,
		sun:Boolean
	},
	driver:{
		token:String,
		username:String
	}
});

var countrys = module.exports = mongoose.model('countrys', countrySchema);
var clients = module.exports = mongoose.model('clients', clientSchema);
var drivers = module.exports = mongoose.model('drivers', driverSchema);
var reclamations = module.exports = mongoose.model('reclamations', reclamationSchema);
var books = module.exports = mongoose.model('books', bookSchema);
